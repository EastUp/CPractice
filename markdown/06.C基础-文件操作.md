# <center>06.文件操作<center>
@[TOC](C基础)

# 知识点：

## 1.文件打开，读取，写入
打开：

`FILE *file = fopen(fileName, "r");` // 打开文件 （文件名，模式）mode r(读) w(写) rb(作为二进制读) wb(作为二进制写)

读取： 

```c
	char buffer[10];

	// 缓冲区buffer，长度10 ，文件指针
	while (fgets(buffer, 10, file)){
		printf("%s",buffer);
	}

	// 关闭文件
	fclose(file);
```

写入：  

`fputs("I am eastrise",file);`
      
## 2.文件复制，当做二进制文件来操作

```c
	// size_t fread(void          *buffer, size_t size, size_t count, FILE          *stream);
	int buffer[512];// 2048 = 4*514
	int len;
	printf("%d",sizeof buffer);
	while ((len = fread(buffer, sizeof(int), 512, file))!=0){
		fwrite(buffer, sizeof(int), len, file_copy);
	}
```

## 3.获取文件大小
```c
	// 三个参数  SEEK_SET（开头）, SEEK_CUR（当前）, SEEK_END（移动到最后）
	fseek(file, 0, SEEK_END);

	// 计算偏移的位置,ftell 从 0 开始统计到当前（SEEK_END）
	long file_size = ftell(file);
```
    
    
## 4.文件加密、解密（该方法文件适合图片，如果文件中有中文就不适合）

加密：
```c
	// 思路：把每一个字节都拿出来，对每一个字节都处理，把某部分字节拿出来，进行处理
	// 10^5 异或  加密过程 
	//  1010  
	// ^0101
	//  1111  加密

	int c;// EOF end of file
	while ((c = fgetc(file))!=EOF){
		fputc(c ^ 5, file_encrpy);
	}
```

解密：

```c
	// 解密 同样的去异或 5 
	//  1111
	// ^0101
	//  1010    解密后 10
	int c;// EOF end of file
	while ((c = fgetc(file)) != EOF){
		fputc(c ^ 5, file_decrpy);
	}
```

## 5.字符串进行加密、解密


## 6. 文件切割

