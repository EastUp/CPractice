# <center>73.linux系统-常用命令<center>


# 知识点：


## 1. 常用快捷键

- `table` 补齐
- `ctrl + a` : 光标移动到最前
- `ctrl + e`：光标移动到最后
- `ctrl + u`：清空
- `上，下键`：切换命令

## 2. 文件操作

### 2.1 文件基本操作指令 

- `cd xxx`：进入到某个目录
- `cd ..`：回退到上一级目录
- `ls` : 当前文件夹下面的所有文件
- `./date` ：执行当前目录下的可执行文件

linux 系统中所见即文件（驱动）  , bin 目录一些执行文件，home 目录用户， lib 目录常用的 so ，opt 和 proc 是与进程相关的

- `mkdir xxx`：创建文件夹
- `touch xxx.xxx`： 创建文件
- `ls -l` : 打印详细信息
- `ls -R` ：递归文件夹输出

### 2.2 文件类型
`drwxr-xr-x 1 ubuntu ubuntu 0 Apr 14 20:37 hello.c`  
代表：文件权限，硬链接计数，所有者，所属组，大小，时间，文件名

- `d`:表示文件类型；
- `rwx`：表示文件所有者的对该文件所拥有的权限；

`-rw-rw-r--：- 文件类型，rw- 所有者可读可写，rw- 同一组用户可读可写，r-- 其他人可读`

![](../pic/73.linux文件权限.jpg)

linux 系统文件类型：

- 普通文件：-
- 目录文件：d
- 软连接：l
- 字符设备文件：c
- 块设备文件：b
- 管道文件：p
- 套接字：s

### 2.3 文件删除、拷贝、读取等

- `rmdir ‘文件夹’` : 只能清空空目录文件夹
- `rm -r ‘文件夹’`：递归清空目录
- `rm ‘文件’`：删除文件
- `cp '文件' ‘文件夹路径’` ： 拷贝文件 -r 递归赋值
- `cat ‘文件’` ：查看文件内容
- `tac ‘文件’`：倒着查看文件
- `more ‘文件’`：每次只查看一页，空格查看下一页
- `less ‘文件’`：与 more 不同地方是, 回车是下一行，空格翻一页，没有百分百，退出 ctrl + c 不行，ESC之后  :q
- `head -2 ‘文件’`：查看前面2行
- `tail -20 ‘文件’`：查看后面20行
                            
删除文件时`rm`的参数

- -i 删除前逐一询问确认。
- -f 即使原档案属性设为唯读，亦直接删除，无需逐一确认。
- -r 将目录及以下之档案亦逐一删除。



## 3. 用户与用户组

- sudo：代表使用 root 权限
- `sudo su ‘用户’`：切换到 root 用户
- `exit` : 退出 当前 用户
- `whoami`：查看当前用户

### 3.1 修改用户文件权限
新建的文件默认是不能执行的，我们需要修改用户文件权限

#### 3.1.1. 文字设定法

`chmod 用户的标识 +/- 权限 文件名：chmod u+x hello.sh `   
用户的标识：u(当前用户) ，g(同组)，o(other)，a(all)

#### 3.1.2. 数字设定法
`chmod nnn 文件名`  ,第一个n所属用户，第二个n所属用户组，第三个n其它用户  
n = 4+2+1 = r+w+x 

### 3.2 用户和用户组的创建、修改、删除
- `sudo adduser '用户'`： 创建了一个用户
- `sudo chown '用户' '文件'` ：修改文件的所属用户
- `sudo chgrp '用户组' '文件'` ：修改文件的所属组
- `sudo chown '用户':'用户组' '文件'`：同时修改文件所属组：所属用户
- `sudo deluser '用户'`：删除用户，同时需要再删除“/home/用户名”的文件夹

## 4.搜索查找

### 4.1 find 查找文件

- `find ./ -type ‘文件类型（文件是 -，目录是 d）’`（递归）
- `find ./ -name '*.so'` ： 根据文件名去查找
- `find ./ -maxdepth 1 -name '*.so'` ： 根据文件名去查找，只在当前文件夹查找，-maxdepth ：递归的层级
- `find ./ -maxdepth 1 -ctime -20`：将目前目录及其子目录下所有最近 20 天内更新过的文件列出

再回顾下 文件类型

- d: 目录
- c: 字型装置文件
- b: 区块装置文件
- p: 具名贮列
- f: 一般文件
- l: 符号连结
- s: socket

### 4.2 grep 查找内容

- `grep -r "查询内容" 文件目录`：grep -r 'jaminniubi' ./ 找当前文件夹中文件内容有jamin 的文件
- `grep -r -l   "查询内容"`  文件目录  ：  #这样只显示包含内容的文件名
- `ps aux`: 类似于任务管理器，把所有的进程信息都列举出来
- `ps aux | grep ‘内容’` : 找到了所有的任务，交给 grep 去执行搜索 ，如果只有一个代表没有找到，两个以上才算有

| ： 管道 （进程间的通信），相当于 | 前的结果，作为输出给到 | 后

常用选项：

    　　-e ：开启扩展（Extend）的正则表达式。
    
    　　-i ：忽略大小写（ignore case）。
    
    　　-v ：反过来（invert），只打印没有匹配的，而匹配的反而不打印。
    
    　　-n ：显示行号
    
    　　-w ：被匹配的文本只能是单词，而不能是单词中的某一部分，如文本中有liker，而我搜寻的只是like，就可以使用-w选项来避免匹配liker
    
    　　-c ：显示总共有多少行被匹配到了，而不是显示被匹配到的内容，注意如果同时使用-cv选项是显示有多少行没有被匹配到。
    
    　　-o ：只显示被模式匹配到的字符串。
    
    　　--color :将匹配到的内容以颜色高亮显示。
    
    　　-A  n：显示匹配到的字符串所在的行及其后n行，after
    
    　　-B  n：显示匹配到的字符串所在的行及其前n行，before
    
    　　-C  n：显示匹配到的字符串所在的行及其前后各n行，context
    
## 5.软件安装

### 5.1 命令行安装

- `sudo apt-get install tree`：tree 是要安装的程序
- `sudo apt-get update`:更新程序
- `sudo apt-get remove tree`:软件卸载

### 5.2 压缩包安装
### 5.1 源码安装

## 6.压缩和解压缩

### 6.1 tar

`tar -zcvf '压缩到的文件' ‘需要压缩的文件’ ‘需要压缩的文件’`  
`tar -jcvf test.tar.zip a.c file `  
`tar -zxvf test.tar.zip` // 解压文件  

- `-zcvf`　`z:gzip` ,　`c: create压缩`　`f: file`　`v:显示过程` `x:解压缩` 
- `-jcvf`　`j:bizp2 ` ,　`c: create压缩`　`f: file`　`v:显示过程` `x:解压缩`

- `gzip ‘需要压缩的文件’` 只能压缩一个文件
- `gunzip a.c.gz`：解压文件

### 6.2 rar和zip

- `rar a -r test.rar` ：rar 压缩
- `unrar x test.rar`：rar 解压缩
- `zip -r test.zip a.c file` ：zip 压缩
- `unzip test.zip`：zip解压缩